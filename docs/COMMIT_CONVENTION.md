# コミットメッセージ規約

このプロジェクトでは、[Conventional Commits]の仕様をベースにしたコミットメッセージのフォーマットを採用しています。
詳細については、[@commitlint/config-conventional]を参照してください。

## 基本的なフォーマット

```text
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

## コミットタイプ

以下のいずれかのタイプを使用してください：

- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響を与えない変更（空白、フォーマット、セミコロンの欠落など）
- `refactor`: バグ修正や機能追加を含まないコードの変更
- `perf`: パフォーマンスを向上させるコードの変更
- `test`: テストの追加や既存のテストの修正
- `chore`: ビルドプロセスやツールの変更、ライブラリの更新など

> [!NOTE]
> 上記以外のタイプを使用する場合は、チーム内で合意を取ってください。

## スコープ（オプション）

変更が影響する範囲を指定します。例えば：

- `(auth)`: 認証関連の変更
- `(api)`: API関連の変更
- `(ui)`: UIコンポーネントの変更
- `(deps)`: 依存関係の更新
- `(ci)`: CI設定の変更

> [!NOTE]
> スコープは任意です。変更の影響範囲が明確でない場合は省略しても構いません。

## 説明

変更内容を簡潔に説明します。以下の点に注意してください：

- 変更内容が分かりやすく伝わるように記述
- 長すぎる説明は避ける

> [!TIP]
> 説明は簡潔に、かつ具体的に記述することを心がけてください。
> 必要に応じて本文で詳細を補足することができます。

## 本文（オプション）

より詳細な説明が必要な場合は、本文を追加してください：

- 変更の理由
- 以前の動作との違い
- 影響を受ける機能やコンポーネント
- その他、レビュアーが知っておくべき情報

> [!TIP]
> 本文は箇条書きを使用すると読みやすくなります。

## フッター（オプション）

以下のような情報を含めることができます：

- 関連するIssue番号（例：`Fixes #123`）
- 破壊的変更の説明（`BREAKING CHANGE:`で始める）
- 変更の影響範囲

## 例

### シンプルな例

オプション項目（スコープ、本文、フッター）を使用しない、シンプルなコミットメッセージの例です：

```text
feat: ログイン画面にパスワード表示トグルを追加
```

```text
fix: ユーザー名のバリデーションエラーを修正
```

```text
docs: インストール手順を更新
```

```text
style: ボタンの余白を調整
```

```text
refactor: ユーザー情報取得処理をリファクタリング
```

### 詳細な例

オプション項目を含む、より詳細なコミットメッセージの例です：

#### 新機能の追加

```text
feat(auth): パスワードリセット機能を追加

- パスワードリセットメールの送信機能を実装
- リセットトークンの検証機能を追加

BREAKING CHANGE: パスワードリセットAPIのエンドポイントが変更されました
```

#### バグ修正

```text
fix(api): ユーザー情報取得APIのエラーハンドリングを修正

- 無効なユーザーIDの場合のエラーメッセージを改善
- エラーレスポンスのステータスコードを修正

Fixes #456
```

#### ドキュメントの更新

```text
docs: READMEのインストール手順を更新

- 新しい環境変数の設定手順を追加
- トラブルシューティングセクションを追加
```

## 自動検証

このプロジェクトでは、コミットメッセージが規約に従っているかを自動的に検証しています。
検証には[husky]と[commitlint_cli]を使用しており、コミット時に自動的にチェックが実行されます。

コミットメッセージが規約に従っていない場合、コミットは拒否され、エラーメッセージが表示されます。

> [!NOTE]
> 特別な事情がある場合は、チーム内で相談の上、必要に応じてルールの適用を緩和することができます。

<!-- Links -->
[Conventional Commits]: https://www.conventionalcommits.org/ja/v1.0.0/
[@commitlint/config-conventional]: https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional
[husky]: https://pub.dev/packages/husky
[commitlint_cli]: https://pub.dev/packages/commitlint_cli
